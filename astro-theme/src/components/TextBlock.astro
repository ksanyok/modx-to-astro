---
interface Props {
  content: string;
  maxWidth?: boolean;
  cardLink?: string;
}

const { content = '', maxWidth = false, cardLink = '' } = Astro.props;

// Strip the linked-image wrapper from display so the image is shown inline
// The cardLink will be rendered as a dedicated "mehr" CTA button instead
---
{content && (
  <div
    class:list={[
      'prose prose-slate max-w-none overflow-hidden',
      maxWidth && 'max-w-3xl mx-auto',
      '[&_a]:text-(--color-accent) [&_a]:underline [&_a]:underline-offset-3 [&_a]:decoration-(--color-accent)/30 hover:[&_a]:decoration-(--color-accent)/60 hover:[&_a]:text-(--color-accent-dark) [&_a]:transition-colors',
      '[&_h2]:text-2xl [&_h2]:sm:text-3xl [&_h2]:font-bold [&_h2]:mb-5 [&_h2]:mt-10 [&_h2]:tracking-tight [&_h2]:text-(--color-text)',
      '[&_h3]:text-xl [&_h3]:sm:text-2xl [&_h3]:font-semibold [&_h3]:mb-4 [&_h3]:mt-8 [&_h3]:tracking-tight [&_h3]:text-(--color-text)',
      '[&_h4]:text-lg [&_h4]:sm:text-xl [&_h4]:font-semibold [&_h4]:mb-3 [&_h4]:mt-6 [&_h4]:text-(--color-text)',
      '[&_h5]:text-base [&_h5]:sm:text-lg [&_h5]:font-semibold [&_h5]:mb-2 [&_h5]:text-(--color-text)',
      '[&_p]:mb-4 [&_p]:leading-relaxed [&_p]:text-(--color-text-light)',
      '[&_ul]:list-disc [&_ul]:pl-6 [&_ul]:mb-5 [&_ul]:space-y-1',
      '[&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:mb-5 [&_ol]:space-y-1',
      '[&_li]:leading-relaxed [&_li]:text-(--color-text-light)',
      '[&_strong]:font-semibold [&_strong]:text-(--color-text)',
      '[&_blockquote]:border-l-4 [&_blockquote]:border-(--color-accent)/40 [&_blockquote]:pl-5 [&_blockquote]:italic [&_blockquote]:text-(--color-text-light) [&_blockquote]:my-6',
      '[&_img]:rounded-xl [&_img]:my-6',
      '[&_table]:w-full [&_table]:border-collapse [&_th]:bg-(--color-bg-alt) [&_th]:font-semibold [&_th]:text-left [&_th]:px-4 [&_th]:py-2.5 [&_td]:px-4 [&_td]:py-2.5 [&_td]:border-t [&_td]:border-(--color-border)',
    ]}
    set:html={content}
  />
)}
{cardLink && (
  <a
    href={cardLink}
    class="mehr-btn inline-flex items-center gap-1.5 mt-3 px-5 py-2 rounded-lg text-sm font-semibold text-white transition-all duration-200 hover:opacity-85 active:scale-[0.97]"
    style="background-color: var(--color-accent);"
  >
    mehr
    <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
    </svg>
  </a>
)}
